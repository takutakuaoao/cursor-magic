(function(i,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):(i=typeof globalThis<"u"?globalThis:i||self,t(i.CursorMagic={}))})(this,function(i){"use strict";var d=Object.defineProperty;var p=(i,t,u)=>t in i?d(i,t,{enumerable:!0,configurable:!0,writable:!0,value:u}):i[t]=u;var a=(i,t,u)=>p(i,typeof t!="symbol"?t+"":t,u);class t{constructor(e,r){a(this,"cursorID","cursorMagic");a(this,"cursorAreaDom","body");a(this,"cursorSize",30);this.operator=e,this.options=r,r&&(this.cursorID=r.cursorID??this.cursorID,this.cursorAreaDom=r.cursorAreaDom??this.cursorAreaDom,this.cursorSize=r.cursorSize??this.cursorSize)}createCursor(){if(!this.operator.createDom({parentDom:this.cursorAreaDom,tagName:"div",specifiedType:"id",specifiedName:this.cursorID,style:this.makeStyle()}))throw new Error(u.failedCreateCursor)}setMouseMoveEvent(e){this.operator.addEventListener(this.cursorAreaDom,"mousemove",e)}updatedMousePosition(e){this.operator.moveDom(`#${this.cursorID}`,this.calculateCursorPosition(e))}makeStyle(){return{width:`${this.cursorSize}px`,height:`${this.cursorSize}px`,transition:"0.2s",transitionTimingFunction:"ease-out",position:"absolute",top:"0px",left:"0px",backgroundColor:"#7a7a7ae3",borderRadius:"100%"}}calculateCursorPosition(e){return{x:e.x-this.cursorSize/2,y:e.y-this.cursorSize/2}}}const u={failedCreateCursor:"Failed create cursorMagic dom"};function l(o){return o=o.replace(/^ *?[A-Z]/,function(e){return e.toLowerCase()}),o=o.replace(/_/g,"-"),o=o.replace(/ *?[A-Z]/g,function(e,r){return"-"+e.replace(/ /g,"").toLowerCase()}),o}class f{createDom(e){const r=this.findParentDom(e.parentDom);if(r===null)return!1;const s=this.createEmptyNewDom(e.tagName,e.specifiedType,e.specifiedName);return e.style&&this.setDomStyle(s,e.style),r.insertBefore(s,r.firstChild),!0}addEventListener(e,r,s){const n=this.findParentDom(e);return n===null?!1:(n.addEventListener(r,c=>{r==="mousemove"&&c instanceof MouseEvent&&s(c.clientX,c.clientY)}),!0)}moveDom(e,r){const s=this.findParentDom(e);s!==null&&s instanceof HTMLElement&&(s.style.left=`${r.x}px`,s.style.top=`${r.y}px`)}createEmptyNewDom(e,r,s){const n=document.createElement(e),c=r==="id"?"id":"class";return n.setAttribute(c,s),n}findParentDom(e){return document.querySelector(e)}setDomStyle(e,r){for(const[s,n]of Object.entries(r))typeof n=="string"&&e.style.setProperty(l(s),n);return e}}function m(){const o=new t(new f);o.createCursor(),o.setMouseMoveEvent((e,r)=>{o.updatedMousePosition({x:e,y:r})})}i.createCursorMagic=m,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
