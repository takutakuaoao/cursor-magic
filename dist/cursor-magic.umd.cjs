(function(s,o){typeof exports=="object"&&typeof module<"u"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.CursorMagic={}))})(this,function(s){"use strict";var d=Object.defineProperty;var h=(s,o,c)=>o in s?d(s,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[o]=c;var a=(s,o,c)=>h(s,typeof o!="symbol"?o+"":o,c);class o{constructor(e,r){a(this,"cursorID","cursorMagic");a(this,"cursorAreaDom","body");a(this,"cursorSize",30);a(this,"cursorStyle",{transition:"0.2s",transitionTimingFunction:"ease-out",backgroundColor:"#7a7a7ae3",borderRadius:"100%"});this.operator=e,this.options=r,r&&(this.cursorID=r.cursorID??this.cursorID,this.cursorAreaDom=r.cursorAreaDom??this.cursorAreaDom,this.cursorSize=r.cursorSize??this.cursorSize,this.cursorStyle=r.cursorStyle?{...this.cursorStyle,...r.cursorStyle}:this.cursorStyle),console.log("cursorstyle"),console.log("%o",this.cursorStyle),console.log("boolean",r==null?void 0:r.cursorStyle)}createCursor(){if(!this.operator.createDom({parentDom:this.cursorAreaDom,tagName:"div",specifiedType:"id",specifiedName:this.cursorID,style:this.makeStyle()}))throw new Error(c.failedCreateCursor)}setMouseMoveEvent(e){this.operator.addEventListener(this.cursorAreaDom,"mousemove",e)}updatedMousePosition(e){this.operator.moveDom(`#${this.cursorID}`,this.calculateCursorPosition(e))}makeStyle(){return{width:`${this.cursorSize}px`,height:`${this.cursorSize}px`,position:"absolute",top:"0px",left:"0px",...this.cursorStyle}}calculateCursorPosition(e){return{x:e.x-this.cursorSize/2,y:e.y-this.cursorSize/2}}}const c={failedCreateCursor:"Failed create cursorMagic dom"};function l(i){return i=i.replace(/^ *?[A-Z]/,function(e){return e.toLowerCase()}),i=i.replace(/_/g,"-"),i=i.replace(/ *?[A-Z]/g,function(e,r){return"-"+e.replace(/ /g,"").toLowerCase()}),i}class f{createDom(e){const r=this.findParentDom(e.parentDom);if(r===null)return!1;const t=this.createEmptyNewDom(e.tagName,e.specifiedType,e.specifiedName);return e.style&&this.setDomStyle(t,e.style),r.insertBefore(t,r.firstChild),!0}addEventListener(e,r,t){const u=this.findParentDom(e);return u===null?!1:(u.addEventListener(r,n=>{r==="mousemove"&&n instanceof MouseEvent&&t(n.clientX,n.clientY)}),!0)}moveDom(e,r){const t=this.findParentDom(e);t!==null&&t instanceof HTMLElement&&(t.style.left=`${r.x}px`,t.style.top=`${r.y}px`)}createEmptyNewDom(e,r,t){const u=document.createElement(e),n=r==="id"?"id":"class";return u.setAttribute(n,t),u}findParentDom(e){return document.querySelector(e)}setDomStyle(e,r){for(const[t,u]of Object.entries(r))typeof u=="string"&&e.style.setProperty(l(t),u);return e}}function m(i){const e=new o(new f,i);e.createCursor(),e.setMouseMoveEvent((r,t)=>{e.updatedMousePosition({x:r,y:t})})}s.createCursorMagic=m,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
